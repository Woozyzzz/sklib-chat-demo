const e=e=>document.querySelector(e),t=e(".chat-header__menu"),n=e(".chat-header__menu__nav"),i=e(".chat-header__menu__nav__list"),s=e(".chat-header__new-chat"),c=e(".chat-main__aside__new-chat"),a=e(".chat-main__aside__list"),l=e(".chat-main__main__article"),r=e(".chat-main__main__form__question__textarea"),o=()=>{l.innerHTML="",r.focus()},d=async function(e){let{target:{className:t},target:n}=e;if(!["list-item","list-item__text"].includes(t))return;let i=this.children;for(let e of i)e.classList.remove("active");let s=t.includes("list-item__text")?n.parentNode:n;s.classList.add("active"),l.innerHTML=""};window.addEventListener("resize",()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),window.addEventListener("click",e=>{let{target:i}=e;t!==i&&(n.contains(i)||n.classList.remove("visible"))}),t.addEventListener("click",()=>{let{classList:e}=n;[...e].includes("visible")||n.classList.add("visible")}),s.addEventListener("click",o),c.addEventListener("click",o),i.addEventListener("click",d),a.addEventListener("click",d),r.addEventListener("keyup",e=>{let{key:t,shiftKey:n}=e;"Enter"!==t||n||(_.push({role:1,content:r.value}),h([{role:1,content:r.value}]),r.value="",l.scrollTop=l.scrollHeight,setTimeout(()=>{_.push({role:2,content:"抱歉我没有理解您的问题。"}),h([{role:2,content:"抱歉我没有理解您的问题。"}]),l.scrollBy({top:99999})},1e3))});let _=[];const p=e=>{let t=document.createElement(e.tag);if(e.classList)for(let n of e.classList)t.classList.add(n);if(e.text&&(e.text.includes("```")||(t.textContent=e.text),t.innerHTML=e.text.replace(/(```)([\s\S]+?)(```)/g,'<pre class="content__code"><code>$2</code></pre>')),e.children)for(let n of e.children){let e=p(n);t.appendChild(e)}return t},h=e=>{let t=e.map(e=>{let{role:t,content:n}=e,i=new Map().set(1,{tag:"section",classList:["article__section","user"],children:[{tag:"div",classList:["section__content-wrapper"],children:[{tag:"div",classList:["content-wrapper__profile"]},{tag:"div",classList:["content-wrapper__content"],text:n}]}]}).set(2,{tag:"section",classList:["article__section"],children:[{tag:"div",classList:["section__content-wrapper"],children:[{tag:"div",classList:["content-wrapper__profile"]},{tag:"div",classList:["content-wrapper__content"],text:n}]}]});return i.get(t)})||[];for(let e of t){let t=p(e);l.appendChild(t)}},u=async()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)};u();
//# sourceMappingURL=index.9918adc3.js.map
